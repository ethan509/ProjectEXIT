{
  "info": {
    "_postman_id": "lottosmash-api-collection",
    "name": "LottoSmash API",
    "description": "LottoSmash 서버 API 테스트 컬렉션",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "System",
      "description": "시스템 상태 확인 API",
      "item": [
        {
          "name": "Health Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/healthz",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "healthz"
              ]
            },
            "description": "서버가 살아있는지 확인"
          }
        },
        {
          "name": "Readiness Check",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/readyz",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "readyz"
              ]
            },
            "description": "서버가 요청을 처리할 준비가 되었는지 확인"
          }
        },
        {
          "name": "Metrics",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/metrics",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "metrics"
              ]
            },
            "description": "Prometheus 형식의 메트릭 데이터"
          }
        }
      ]
    },
    {
      "name": "Example",
      "description": "예제 API",
      "item": [
        {
          "name": "Ping",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/v1/ping",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "v1",
                "ping"
              ]
            },
            "description": "서버 연결 테스트용 ping"
          }
        },
        {
          "name": "Echo",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"message\": \"Hello, World!\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/v1/echo",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "v1",
                "echo"
              ]
            },
            "description": "요청 메시지를 그대로 반환"
          }
        }
      ]
    },
    {
      "name": "Auth",
      "description": "인증 관련 API",
      "item": [
        {
          "name": "Guest Login",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"device_id\": \"device-uuid-1234\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/guest",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "guest"
              ]
            },
            "description": "디바이스 ID로 게스트 계정 생성 및 로그인"
          }
        },
        {
          "name": "Send Verification Code",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"user@example.com\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/send-code",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "send-code"
              ]
            },
            "description": "이메일로 인증코드 발송"
          }
        },
        {
          "name": "Register",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"user@example.com\",\n  \"password\": \"password123\",\n  \"code\": \"123456\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/register",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "register"
              ]
            },
            "description": "이메일 인증 후 회원가입"
          }
        },
        {
          "name": "Login",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"user@example.com\",\n  \"password\": \"password123\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/login",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "login"
              ]
            },
            "description": "이메일과 비밀번호로 로그인"
          }
        },
        {
          "name": "Refresh Token",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refresh_token\": \"{{refresh_token}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/refresh",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "refresh"
              ]
            },
            "description": "Refresh token으로 새로운 access token 발급"
          }
        },
        {
          "name": "Get My Info",
          "request": {
            "method": "GET",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/auth/me",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "me"
              ]
            },
            "description": "현재 로그인한 사용자 정보 조회"
          }
        },
        {
          "name": "Link Email",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"email\": \"user@example.com\",\n  \"password\": \"password123\",\n  \"code\": \"123456\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/link-email",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "link-email"
              ]
            },
            "description": "게스트 계정에 이메일 연동"
          }
        },
        {
          "name": "Change Password",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              },
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"old_password\": \"oldpassword123\",\n  \"new_password\": \"newpassword456\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/change-password",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "change-password"
              ]
            },
            "description": "현재 비밀번호 확인 후 새 비밀번호로 변경"
          }
        },
        {
          "name": "Logout",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"refresh_token\": \"{{refresh_token}}\"\n}"
            },
            "url": {
              "raw": "{{base_url}}/api/auth/logout",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "auth",
                "logout"
              ]
            },
            "description": "Refresh token 무효화"
          }
        }
      ]
    },
    {
      "name": "Lotto",
      "description": "로또 당첨번호 및 통계 API",
      "item": [
        {
          "name": "Get All Draws",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/lotto/draws?limit=20&offset=0",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "lotto",
                "draws"
              ],
              "query": [
                {
                  "key": "limit",
                  "value": "20"
                },
                {
                  "key": "offset",
                  "value": "0"
                }
              ]
            },
            "description": "로또 당첨번호 목록을 페이지네이션으로 조회"
          }
        },
        {
          "name": "Get Draw by Number",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/lotto/draws/1000",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "lotto",
                "draws",
                "1000"
              ]
            },
            "description": "특정 회차의 당첨번호 상세 정보 조회"
          }
        },
        {
          "name": "Get All Stats",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/lotto/stats",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "lotto",
                "stats"
              ]
            },
            "description": "번호별 당첨 횟수 및 재등장 확률 통계"
          }
        },
        {
          "name": "Get Number Stats",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/lotto/stats/numbers",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "lotto",
                "stats",
                "numbers"
              ]
            },
            "description": "1~45 각 번호별 당첨 횟수 통계"
          }
        },
        {
          "name": "Get Reappear Stats",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{base_url}}/api/lotto/stats/reappear",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "lotto",
                "stats",
                "reappear"
              ]
            },
            "description": "각 번호가 다음 회차에 재등장할 확률 통계"
          }
        },
        {
          "name": "Manual Sync (Admin)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "Bearer {{access_token}}"
              }
            ],
            "url": {
              "raw": "{{base_url}}/api/admin/lotto/sync",
              "host": [
                "{{base_url}}"
              ],
              "path": [
                "api",
                "admin",
                "lotto",
                "sync"
              ]
            },
            "description": "최신 당첨번호를 수동으로 동기화"
          }
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "base_url",
      "value": "http://localhost:8081",
      "type": "string"
    },
    {
      "key": "access_token",
      "value": "",
      "type": "string"
    },
    {
      "key": "refresh_token",
      "value": "",
      "type": "string"
    }
  ]
}
